(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t){},15:function(e,t,a){a(16),e.exports=a(43)},32:function(e,t){},38:function(e,t){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(10),o=a(1),s=a(13),r=a.n(s),c=a(14),u=a.n(c),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var m=[{name:"nl",label:i.a.createElement(o.a,{id:"nl",defaultMessage:"Netherlands"})},{name:"us",label:i.a.createElement(o.a,{id:"us",defaultMessage:"USA"})}],d={marginTop:"1em"},f=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=i.a.createElement("b",null,"CPU:"),h=i.a.createElement("b",null,"RAM:"),b=i.a.createElement("b",null,"HDD:"),v=function(e){return i.a.createElement(n.Fragment,null,i.a.createElement("li",null,g," ",i.a.createElement("span",null,e.cpu)),i.a.createElement("li",null,h," ",i.a.createElement("span",null,e.ram)),i.a.createElement("li",null,b," ",i.a.createElement("span",null,e.hdd)))},E=function(e){return e.os+" "+e.version},_=function(e){var t="";return e?(e.packages.map(function(e){t+=e.name+" "+e.version+" + "}),t.replace(new RegExp("[\\s+]*$"),"")):null},k=i.a.createElement(o.a,{id:"managed",defaultMessage:"Managed"}),O=i.a.createElement(o.a,{id:"unmanaged",defaultMessage:"Unmanaged"}),y=i.a.createElement(o.a,{id:"no_softpack",defaultMessage:"No softpack"}),S=i.a.createElement("h3",null,i.a.createElement(o.a,{id:"text.header"})),I=i.a.createElement("p",null,i.a.createElement(o.a,{id:"text.paragraph"})),w=i.a.createElement("label",{htmlFor:"label"},i.a.createElement(o.a,{id:"label",defaultMessage:"Label"})),P=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state=Object.assign({},{actions:null,location:"usa",configId:null,configObj:{},configOptions:[],label:"",os:null,osOptions:[],osImage:null,osImageOptions:[],administration:null,administrationOptions:[],softpack:null,softpackOptions:[],isOrderActive:!1,total:0,possibleOsImages:[]},a.initialStates),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(e,t,a){this.setState({configOptions:this.props.configs,osImages:this.props.osImages,administration:"managed",possibleOsImages:this.props.osImages},this.setPossibleOsImages)},t.prototype.setOsImage=function(){this.setState(function(e,t){if(e.possibleOsImages.length&&e.softpack){for(var a=null,n=e.possibleOsImages.filter(function(t){return E(t)===e.os}),i=0;i<n.length;i++){var l=n[i];if(null===l.softpack){a=l;break}if(e.softpack===l.softpack.name){a=l;break}}return{osImage:a}}})},t.prototype.setPossibleOsImages=function(){var e=this,t=this.props.osImages;this.state.administration&&(t=t.filter(function(t){return"managed"===e.state.administration?t.softpack&&"string"==typeof t.softpack.panel:null===t.softpack||null===t.softpack.panel})),this.setState({possibleOsImages:t},this.setOsImage)},t.prototype.getOsOptions=function(){var e=this,t=Object.keys(this.props.osImages).map(function(t){var a=e.props.osImages[t];return{name:E(a),title:E(a),disabled:!1}});return(t=t.filter(function(e,t,a){return t===a.findIndex(function(t){return t.title===e.title})})).map(function(t){t.disabled=!e.state.possibleOsImages.some(function(e){return E(e)===t.name})}),t},t.prototype.getAdministrationOptions=function(){return[{name:"managed",title:k,disabled:!this.props.osImages.some(function(e){return null!==e.softpack&&"string"==typeof e.softpack.panel})},{name:"unmanaged",title:O,disabled:!this.props.osImages.some(function(e){return null===e.softpack||null===e.softpack.panel})}]},t.prototype.checkSoftpack=function(e){var t=!1;return this.state.possibleOsImages.length&&e&&Object.values(this.state.possibleOsImages).forEach(function(a){null===a.softpack&&"clear"===e.name?t=!0:a.softpack&&a.softpack.name===e.name&&(t=!0)}),t},t.prototype.getSoftpackOptions=function(){var e=this,t=[];for(var a in this.props.osImages){var n=this.props.osImages.hasOwnProperty(a)?this.props.osImages[a]:null;n&&n.softpack&&t.push({name:n.softpack.name,title:n.softpack.name.toUpperCase(),disabled:!1})}t.unshift({name:"clear",title:y,disabled:!1});var i=t.filter(function(e,t,a){return t===a.findIndex(function(t){return t.place===e.place&&t.name===e.name})});return(i=Object.assign(i)).map(function(t){for(var a=!1,n=e.state.possibleOsImages.filter(function(t){return E(t)===e.state.os}),i=0;i<n.length;i++){var l=n[i];if(l.softpack&&l.softpack.name===t.name){a=!0;break}if("clear"===t.name&&null===l.softpack){a=!0;break}}t.disabled=!a}),i},t.prototype.handleLocationChange=function(e){this.setState({location:e,configId:null,label:"",osImage:null,administration:null,softpack:null,isOrderActive:!1})},t.prototype.handleSelectConfig=function(e){var t=this.state.configOptions[this.state.location].find(function(t){return parseInt(t.id)===parseInt(e)});this.setState({configId:e,configObj:t,label:"",administration:null,softpack:null,isOrderActive:!1,total:t.price})},t.prototype.handleOSChange=function(e){this.setState({os:e},this.setPossibleOsImages)},t.prototype.handleAdministrationChange=function(e){var t=this.state.total,a=this.state.administration;"managed"!==e||"unmanaged"!==a&&null!=a?"unmanaged"===e&&"managed"===a&&(t-=parseFloat(this.state.configObj.support_price)):t+=parseFloat(this.state.configObj.support_price),this.setState({administration:e,total:t},this.setPossibleOsImages)},t.prototype.handleSoftpackChange=function(e){this.setState({softpack:e},this.setPossibleOsImages)},t.prototype.handleLabelChange=function(e){this.setState({label:e.target.value})},t.prototype.render=function(){var e=this,t=M,a="",n=this.state,l=n.location,o=n.configId,s=n.os,r=n.administration,c=n.softpack,u=n.action,f=n.configOptions,g=n.label,h=n.osImage,b=this.props.token;if(l&&o){var v=this.getAdministrationOptions(),E=this.getOsOptions(),_=this.getSoftpackOptions(),k=f[l].find(function(e){return parseInt(e.id)===parseInt(o)});a=l&&o?i.a.createElement(B,p({config:k,isSideBar:!0},this.state,{osOptions:E,administrationOptions:v,softpackOptions:_})):"",t=i.a.createElement("fieldset",{className:"col-md-9"},S,I,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-9"},i.a.createElement("div",{className:"form-group"},w,i.a.createElement("input",{type:"text",className:"form-control",name:"label",id:"label",value:g,onChange:function(t){return e.handleLabelChange(t)}})))),i.a.createElement("input",{type:"hidden",id:"tariff_id",name:"tariff_id",value:k[l+"_tariff_id"]}),i.a.createElement("input",{type:"hidden",id:b.name,name:b.name,value:b.value}),i.a.createElement("input",{type:"hidden",id:"object_id",name:"object_id",value:o}),i.a.createElement("input",{type:"hidden",id:"location",name:"location",value:l}),i.a.createElement("input",{type:"hidden",id:"osimage",name:"osimage",value:h?h.name:""}),i.a.createElement(Q,{label:"administration",options:v,current:r,onInputChange:function(t){return e.handleAdministrationChange(t)}}),i.a.createElement(Q,{label:"os",options:E,current:s,onInputChange:function(t){return e.handleOSChange(t)}}),i.a.createElement(Q,{label:"softpack",options:_,current:c,onInputChange:function(t){return e.handleSoftpackChange(t)}}))}else l&&(t=Object.keys(this.state.configOptions).length&&this.state.configOptions[l].length?this.state.configOptions[l].map(function(t,a){return i.a.createElement("div",{className:"col-md-4",key:a},i.a.createElement(B,p({config:t},e.state,{location:l,onSelectConfig:function(t){return e.handleSelectConfig(t)}})))}):L);return i.a.createElement("form",{id:"hipanel-server-order",action:u,method:"POST"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-9"},i.a.createElement("div",{className:"row"},t)),i.a.createElement("div",{className:"col-md-3"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(N,{locations:m,currentLocation:l,onLocationChange:function(t){return e.handleLocationChange(t)}})),i.a.createElement("div",{className:"col-md-12",style:d},a)))))},t}(n.Component);function C(e){var t=e.msgId;return i.a.createElement("div",{className:"alert alert-warning text-center"},i.a.createElement(o.a,{id:t}))}var L=i.a.createElement(C,{msgId:"no_configurations"}),M=i.a.createElement(C,{msgId:"select_location"});function N(e){var t=function(t){e.onLocationChange(t.currentTarget.dataset.location)};return i.a.createElement("div",{className:"btn-group btn-group-justified"},e.locations.map(function(a,n){return i.a.createElement("label",{className:"btn btn-default "+(a.name===e.currentLocation?"active":""),key:n,"data-location":a.name,onClick:t},a.label)}))}var x=i.a.createElement("br",null),T=i.a.createElement("br",null),j=i.a.createElement("b",null,i.a.createElement(o.a,{id:"label",defaultMessage:"Label"}),": "),A=i.a.createElement("hr",null),U=i.a.createElement(o.a,{id:"order"}),D=i.a.createElement(o.a,{id:"select"});function B(e){var t=!1,a=null,n=null;e.isSideBar?(t=!0,a=e.total,n=e.label):a=e.config.price;var l=e.os&&e.administration&&e.softpack&&e.osImage;return i.a.createElement("div",{className:"panel panel-default"},i.a.createElement("div",{className:"panel-heading"},e.config.name),i.a.createElement("div",{className:"panel-body"},e.config.descr,x,T,i.a.createElement("ul",{className:"list-unstyled"},n?i.a.createElement("li",null,j," ",i.a.createElement("span",null,n)):"",v(e.config),i.a.createElement(R,{options:e.osOptions,input:e.os,label:"os"}),i.a.createElement(R,{options:e.administrationOptions,input:e.administration,label:"administration"}),i.a.createElement(R,{options:e.softpackOptions,input:e.softpack,label:"softpack"}),i.a.createElement(H,{osImage:e.osImage})),A,i.a.createElement("div",{className:"text-center text-muted"},a.toLocaleString(e.language,{style:"currency",currency:e.config.currency}))),i.a.createElement("div",{className:"panel-footer"},t?i.a.createElement("button",{type:"submit",className:"btn btn-success btn-block",disabled:!l},U):i.a.createElement("button",{type:"button",className:"btn btn-primary btn-block","data-config-id":e.config.id,onClick:function(t){e.onSelectConfig(t.currentTarget.dataset.configId)}},D)))}var F=i.a.createElement("b",null,i.a.createElement(o.a,{id:"software",defaultMessage:"Software"}),":");function H(e){var t=e.osImage;if(null===t)return null;if(null===t.softpack)return null;var a=_(t.softpack);return i.a.createElement("li",null,F," ",i.a.createElement("span",null,a))}function Q(e){var t=e.current,a=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["current"]),l=function(e){a.onInputChange(e.target.value)};-1===a.options.map(function(e){return e.disabled?null:e.name}).indexOf(t)&&(t=null),null===t&&(t=a.options.reduce(function(e,t){return null!==e||t.disabled?e:t.name},null),Object(n.useEffect)(function(){a.onInputChange(t)}));var s=a.options.map(function(e,n){return i.a.createElement("div",{className:"radio radio-"+a.label+(!0===e.disabled?" disabled":""),key:n},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:a.label.toLowerCase(),value:e.name,onChange:l,checked:t===e.name,disabled:!0===e.disabled?"disabled":""}),e.title))});return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,i.a.createElement(o.a,{id:a.label})),s)}function R(e){var t=e.input,a=e.options,n=e.label;if(t&&a&&n){var l=a.find(function(e){return e.name===t});return l?i.a.createElement("li",null,i.a.createElement("b",null,i.a.createElement(o.a,{id:n,defaultMessage:f(n)}),": ")," ",i.a.createElement("span",null,l.title)):null}return null}var W=P;Object(o.c)([].concat(u.a,r.a)),window.hipanel_order_server||(window.hipanel_order_server={initialStates:{action:"http://local.hipanel-demo.hipanel.com/server/order/add-to-cart-dedicated",location:"us",language:"en"},token:{name:"_csrf",value:"123"},configs:{nl:[{id:1,name:"Single Start",descr:"The Test Config Description Single Start",price:127,currency:"EUR",nl_tariff_id:"123",us_tariff_id:"321",cpu:"1 x W-2123",hdd:"2 x 2 TB",ram:"16 GB",support_price:"0.07"}],us:[{id:2,name:"Single Business",descr:"The Test Config Description Single Business",price:175,currency:"USD",nl_tariff_id:"123",us_tariff_id:"321",cpu:"1 х W-2125 CPU",hdd:"2 х 2 TB HDD",ram:"2 x 2 TB",support_price:1.7},{id:3,name:"Single Advanced",descr:"The Test Config Description Single Advanced",price:202,currency:"USD",nl_tariff_id:"123",us_tariff_id:"321",cpu:"1 х W-2133 CPU",hdd:"2 х 2 TB HDD",ram:"64 GB DDR4",support_price:.7}]},osImages:[{name:"freebsd_11_clear",title:"Clear FreeBSD 11 LEMP (demo)",os:"FreeBSD",version:11,panel:null,deprecated:!1,softpack:null,osimage:"freebsd_11_clear"},{name:"freebsd_11_lamp",title:"FreeBSD 11 LEMP stack (demo)",os:"FreeBSD",version:11,panel:null,deprecated:!1,softpack:{name:"lamp",panel:"HiPanel",packages:[{name:"Apache",version:2.2},{name:"MySQL",version:8},{name:"PHP-FPM",version:"7.3.0"}]},osimage:"freebsd_11_lamp"},{name:"ubuntu_1810_clean",title:"Ubuntu 18.10 Clean installation (demo)",os:"Ubuntu",version:18.1,panel:null,deprecated:!1,softpack:null,osimage:"ubuntu_1810_clean"},{name:"ubuntu_1804_lemp",title:"Ubuntu 18.04 LTS x64 with LEMP stack (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lemp",panel:null,packages:[{name:"Nginx",version:"1.15.0"},{name:"MySQL",version:8},{name:"PHP-FPM",version:"7.3.0"}]},osimage:"ubuntu_1804_lemp"},{name:"centos_7_clean",title:"CentOS 7 (demo)",os:"CentOS",version:7,panel:null,deprecated:!1,softpack:null,osimage:"centos_7_clean"},{name:"ubuntu_1804_lemp_hipanel",title:"Ubuntu 18.04 LTS x64 with LEMP stack and HiPanel (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lemp",panel:"HiPanel",packages:[{name:"Nginx",version:"1.15.1"},{name:"MySQL",version:"8.0.2"},{name:"PHP-FPM",version:"7.3.2"}]},osimage:"ubuntu_1804_lemp_hipanel"},{name:"windows_10_clean",title:"Windows 10 (demo)",os:"Windows",version:10.1,panel:null,deprecated:!1,softpack:null,osimage:"windows_10_clean"},{name:"centos_6_lamp",title:"CentOS 6 x64 with LAMP stack (demo)",os:"CentOS",version:6,panel:null,deprecated:!0,softpack:{name:"lamp",panel:null,packages:[{name:"Apache",version:"2.0.1"},{name:"MySQL",version:5.5},{name:"PHP-FPM",version:"5.6.0"}]},osimage:"centos_6_lamp"},{name:"ubuntu_1804_lamp_hipanel",title:"Ubuntu 18.04 LTS x64 with LAMP stack and HiPanel (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lamp",panel:"HiPanel",packages:[{name:"Apache",version:"2.2.2"},{name:"MySQL",version:"8.0.1"},{name:"PHP-FPM",version:"7.3.2"}]},osimage:"ubuntu_1804_lamp_hipanel"},{name:"ubuntu_1804_lamp",title:"Ubuntu 18.04 LTS x64 with LAMP stack (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lamp",panel:null,packages:[{name:"Apache",version:2.2},{name:"MySQL",version:8},{name:"PHP-FPM",version:"7.3.1"}]},osimage:"ubuntu_1804_lamp"}]});Object(l.render)(i.a.createElement(o.b,{locale:window.hipanel_order_server.initialStates.language,messages:{en:{"text.header":"Make your server even more powerful","text.paragraph":"Select the technical details and the type of maintenance of your dedicated server. Immediately after placing the order, we will contact you to confirm it and connect your project to the service.",os:"OS",administration:"Administration",softpack:"Soft",select_location:"Select location",no_configurations:"No configurations found",select:" Select",order:"Order"},ru:{"text.header":"Сделайте ваш сервер еще мощнее","text.paragraph":"Выберите технические детали и тип обслуживания выделенного сервера. Сразу после размещения заказа мы свяжемся с вами для подтверждения и подключения вашего проекта к услуге.",nl:"Нидерланды",us:"США",label:"Заметка",administration:"Администрирование",softpack:"Софт",os:"ОС",order:"Заказать",select:"Выбрать",select_location:"Выбирите локацию",no_configurations:"Нет конфигураций",software:"Программное обеспечение",no_softpack:"отсутствует",managed:"Управляемое",unmanaged:"Неуправляемое"}}[window.hipanel_order_server.initialStates.language]},i.a.createElement(W,window.hipanel_order_server)),document.querySelector("#server-order-app"))}},[[15,2,1]]]);
//# sourceMappingURL=app.91492481.js.map