(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t){},15:function(e,t,n){n(16),e.exports=n(43)},32:function(e,t){},38:function(e,t){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(10),s=n(1),l=n(13),r=n.n(l),c=n(14),u=n.n(c),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var p=[{name:"nl",label:i.a.createElement(s.a,{id:"nl",defaultMessage:"Netherlands"})},{name:"us",label:i.a.createElement(s.a,{id:"us",defaultMessage:"USA"})}],d={marginTop:"1em"},f=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=i.a.createElement("b",null,"CPU:"),h=i.a.createElement("b",null,"RAM:"),b=i.a.createElement("b",null,"HDD:"),v=function(e){return i.a.createElement(a.Fragment,null,i.a.createElement("li",null,g," ",i.a.createElement("span",null,e.cpu)),i.a.createElement("li",null,h," ",i.a.createElement("span",null,e.ram)),i.a.createElement("li",null,b," ",i.a.createElement("span",null,e.hdd)))},E=function(e){return e.os+" "+e.version},k=function(e){var t="";return e?(e.packages.map(function(e){t+=e.name+" "+e.version+" + "}),t.replace(new RegExp("[\\s+]*$"),"")):null},_=i.a.createElement(s.a,{id:"managed",defaultMessage:"Managed"}),O=i.a.createElement(s.a,{id:"unmanaged",defaultMessage:"Unmanaged"}),y=i.a.createElement(s.a,{id:"no_softpack",defaultMessage:"No softpack"}),S=i.a.createElement("h3",null,i.a.createElement(s.a,{id:"text.header"})),I=i.a.createElement("p",null,i.a.createElement(s.a,{id:"text.paragraph"})),w=i.a.createElement("label",{htmlFor:"label"},i.a.createElement(s.a,{id:"label",defaultMessage:"Label"})),C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state=Object.assign({},{actions:null,location:"usa",configId:null,configOptions:[],label:"",os:null,osOptions:[],osImage:null,osImageOptions:[],administration:null,administrationOptions:[],softpack:null,softpackOptions:[],isOrderActive:!1,total:0,possibleOsImages:[]},n.initialStates),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e,t,n){t.os!=this.state.os&&this.setPossibleOsImages(),t.configId!=this.state.configId&&this.setOsImage()},t.prototype.componentDidMount=function(e,t,n){var a=this;this.setState({configOptions:this.props.configs,osImages:this.props.osImages,osOptions:this.getOsOptions(),administrationOptions:this.getAdministrationOptions(),softpackOptions:this.getSoftpackOptions()},function(){a.setPossibleOsImages()})},t.prototype.setOsImage=function(){var e=this;this.setState(function(t,n){if(t.possibleOsImages){var a=t.possibleOsImages.find(function(n){var a=E(n)===e.state.os,i=!1;if(t.softpack){var o="clear"===t.softpack?null:t.softpack;null===n.softpack&&null===o?i=!0:n.softpack&&n.softpack.name===o&&(i=!0)}return a&&i});return{osImage:a?a.name:t.osImage}}})},t.prototype.checkOs=function(e){return E(e)===this.state.os},t.prototype.checkSoftpack=function(e){var t=!1;return this.state.possibleOsImages.length&&e&&Object.values(this.state.possibleOsImages).forEach(function(n){null===n.softpack&&"clear"===e.name?t=!0:n.softpack&&n.softpack.name===e.name&&(t=!0)}),t},t.prototype.setPossibleOsImages=function(){var e=this,t=[];Object.values(this.props.osImages).map(function(n){e.state.os===E(n)&&t.push(n)}),this.setState({possibleOsImages:t},function(){e.setOsImage()})},t.prototype.getOsOptions=function(){var e=this;return Object.keys(this.props.osImages).map(function(t){var n=e.props.osImages[t];return{name:E(n),title:E(n),disabled:!1}}).filter(function(e,t,n){return t===n.findIndex(function(t){return t.title===e.title})})},t.prototype.buildOsImages=function(){var e=this;return Object.keys(this.props.osImages).map(function(t){var n=e.props.osImages[t];return{name:n.name,title:E(n),disabled:!1}}).filter(function(e,t,n){return t===n.findIndex(function(t){return t.title===e.title})})},t.prototype.checkAdministration=function(e){var t=!1;return this.state.possibleOsImages.length&&Object.values(this.state.possibleOsImages).forEach(function(n){"managed"===e&&(t=!(!n.softpack||"string"!=typeof n.softpack.panel)),!1===t&&"unmanaged"===e&&(t=!(null!==n.softpack&&null!==n.softpack.panel))}),t},t.prototype.getAdministrationOptions=function(){return[{name:"managed",title:_,disabled:!this.checkAdministration("managed")},{name:"unmanaged",title:O,disabled:!this.checkAdministration("unmanaged")}]},t.prototype.getSoftpackOptions=function(){var e=[];for(var t in this.props.osImages){var n=this.props.osImages.hasOwnProperty(t)?this.props.osImages[t]:null;n&&n.softpack&&e.push({name:n.softpack.name,title:n.softpack.name.toUpperCase(),disabled:!this.checkSoftpack(n.softpack)})}e.unshift({name:"clear",title:y,disabled:!this.checkSoftpack({name:"clear"})});var a=e.filter(function(e,t,n){return t===n.findIndex(function(t){return t.place===e.place&&t.name===e.name})});return Object.assign(a)},t.prototype.handleLocationChange=function(e){this.setState({location:e,configId:null,label:"",os:null,osImage:null,administration:null,softpack:null,isOrderActive:!1})},t.prototype.handleSelectConfig=function(e){this.setState({configId:e,label:"",administration:null,softpack:null,isOrderActive:!1,total:this.state.configOptions[this.state.location].find(function(t){return parseInt(t.id)===parseInt(e)}).price})},t.prototype.handleOSChange=function(e){this.setState({os:e})},t.prototype.handleAdministrationChange=function(e){var t=this.state.total,n=this.state.administration;"managed"!==e||"unmanaged"!==n&&null!=n?"unmanaged"===e&&"managed"===n&&(t-=100):t+=100,this.setState({administration:e,total:t},this.setOsImage)},t.prototype.handleSoftpackChange=function(e){this.setState({softpack:e},this.setOsImage)},t.prototype.handleLabelChange=function(e){this.setState({label:e.target.value})},t.prototype.render=function(){var e=this,t=M,n="",a=this.state,o=a.location,s=a.configId,l=a.os,r=a.osOptions,c=a.administration,u=a.softpack,f=a.action,g=a.configOptions,h=a.label,b=a.osImage,v=this.getAdministrationOptions(),E=this.getSoftpackOptions(),k=this.props.token;if(o&&s){var _=g[o].find(function(e){return parseInt(e.id)===parseInt(s)});n=o&&s?i.a.createElement(B,m({config:_,isSideBar:!0},this.state)):"",t=i.a.createElement("fieldset",{className:"col-md-9"},S,I,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-9"},i.a.createElement("div",{className:"form-group"},w,i.a.createElement("input",{type:"text",className:"form-control",name:"label",id:"label",value:h,onChange:function(t){return e.handleLabelChange(t)}})))),i.a.createElement("input",{type:"hidden",id:"tariff_id",name:"tariff_id",value:_[o+"_tariff_id"]}),i.a.createElement("input",{type:"hidden",id:k.name,name:k.name,value:k.value}),i.a.createElement("input",{type:"hidden",id:"object_id",name:"object_id",value:s}),i.a.createElement("input",{type:"hidden",id:"location",name:"location",value:o}),i.a.createElement("input",{type:"hidden",id:"osimage",name:"osimage",value:b||""}),i.a.createElement(Q,{label:"os",options:r,current:l,onInputChange:function(t){return e.handleOSChange(t)}}),i.a.createElement(Q,{label:"administration",options:v,current:c,onInputChange:function(t){return e.handleAdministrationChange(t)}}),i.a.createElement(Q,{label:"softpack",options:E,current:u,onInputChange:function(t){return e.handleSoftpackChange(t)}}))}else o&&(t=Object.keys(this.state.configOptions).length&&this.state.configOptions[o].length?this.state.configOptions[o].map(function(t,n){return i.a.createElement("div",{className:"col-md-4",key:n},i.a.createElement(B,m({config:t},e.state,{location:o,onSelectConfig:function(t){return e.handleSelectConfig(t)}})))}):L);return i.a.createElement("form",{id:"hipanel-server-order",action:f,method:"POST"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-9"},i.a.createElement("div",{className:"row"},t)),i.a.createElement("div",{className:"col-md-3"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(N,{locations:p,currentLocation:o,onLocationChange:function(t){return e.handleLocationChange(t)}})),i.a.createElement("div",{className:"col-md-12",style:d},n)))))},t}(a.Component);function P(e){var t=e.msgId;return i.a.createElement("div",{className:"alert alert-warning text-center"},i.a.createElement(s.a,{id:t}))}var L=i.a.createElement(P,{msgId:"no_configurations"}),M=i.a.createElement(P,{msgId:"select_location"});function N(e){var t=function(t){e.onLocationChange(t.currentTarget.dataset.location)};return i.a.createElement("div",{className:"btn-group btn-group-justified"},e.locations.map(function(n,a){return i.a.createElement("label",{className:"btn btn-default "+(n.name===e.currentLocation?"active":""),key:a,"data-location":n.name,onClick:t},n.label)}))}var x=i.a.createElement("br",null),A=i.a.createElement("br",null),T=i.a.createElement("b",null,i.a.createElement(s.a,{id:"label",defaultMessage:"Label"}),": "),j=i.a.createElement("hr",null),U=i.a.createElement(s.a,{id:"order"}),D=i.a.createElement(s.a,{id:"select"});function B(e){var t=!1,n=null,a=null;e.isSideBar?(t=!0,n=e.total,a=e.label):n=e.config.price;var o=e.os&&e.administration&&e.softpack&&e.osImage;return i.a.createElement("div",{className:"panel panel-default"},i.a.createElement("div",{className:"panel-heading"},e.config.name),i.a.createElement("div",{className:"panel-body"},e.config.descr,x,A,i.a.createElement("ul",{className:"list-unstyled"},v(e.config),a?i.a.createElement("li",null,T," ",i.a.createElement("span",null,a)):"",i.a.createElement(R,{options:e.osOptions,input:e.os,label:"os"}),i.a.createElement(R,{options:e.administrationOptions,input:e.administration,label:"administration"}),i.a.createElement(R,{options:e.softpackOptions,input:e.softpack,label:"softpack"}),i.a.createElement(F,e)),j,i.a.createElement("div",{className:"text-center text-muted"},n.toLocaleString(e.language,{style:"currency",currency:e.config.currency}))),i.a.createElement("div",{className:"panel-footer"},t?i.a.createElement("button",{type:"submit",className:"btn btn-success btn-block",disabled:!o},U):i.a.createElement("button",{type:"button",className:"btn btn-primary btn-block","data-config-id":e.config.id,onClick:function(t){e.onSelectConfig(t.currentTarget.dataset.configId)}},D)))}var H=i.a.createElement("b",null,i.a.createElement(s.a,{id:"software",defaultMessage:"Software"}),":");function F(e){var t=e.softpack,n=e.osImage,a=e.osImages;if(null===t||"clear"===t)return null;var o=k(a.find(function(e){return e.name===n}).softpack);return i.a.createElement("li",null,H," ",i.a.createElement("span",null,o))}function Q(e){var t=e.current,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["current"]),o=function(e){n.onInputChange(e.target.value)};-1===n.options.map(function(e){return e.disabled?null:e.name}).indexOf(t)&&(t=null),null===t&&(t=n.options.reduce(function(e,t){return null!==e||t.disabled?e:t.name},null),Object(a.useEffect)(function(){n.onInputChange(t)}));var l=n.options.map(function(e,a){return i.a.createElement("div",{className:"radio radio-"+n.label+(!0===e.disabled?" disabled":""),key:a},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:n.label.toLowerCase(),value:e.name,onChange:o,checked:t===e.name,disabled:!0===e.disabled?"disabled":""}),e.title))});return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,i.a.createElement(s.a,{id:n.label})),l)}function R(e){var t=e.input,n=e.options,a=e.label;if(t&&n&&a){var o=n.find(function(e){return e.name===t});return i.a.createElement("li",null,i.a.createElement("b",null,i.a.createElement(s.a,{id:a,defaultMessage:f(a)}),": ")," ",i.a.createElement("span",null,o.title))}return null}var W=C;Object(s.c)([].concat(u.a,r.a)),window.hipanel_order_server||(window.hipanel_order_server={initialStates:{action:"http://local.hipanel-demo.hipanel.com/server/order/add-to-cart-dedicated",location:"us",language:"en"},token:{name:"_csrf",value:"123"},configs:{nl:[{id:1,name:"Single Start",descr:"The Test Config Description Single Start",price:127,currency:"EUR",nl_tariff_id:"123",us_tariff_id:"321",cpu:"1 x W-2123",hdd:"2 x 2 TB",ram:"16 GB"}],us:[{id:2,name:"Single Business",descr:"The Test Config Description Single Business",price:175,currency:"USD",nl_tariff_id:"123",us_tariff_id:"321",cpu:"1 х W-2125 CPU",hdd:"2 х 2 TB HDD",ram:"2 x 2 TB"},{id:3,name:"Single Advanced",descr:"The Test Config Description Single Advanced",price:202,currency:"USD",nl_tariff_id:"123",us_tariff_id:"321",cpu:"1 х W-2133 CPU",hdd:"2 х 2 TB HDD",ram:"64 GB DDR4"}]},osImages:[{name:"freebsd_11_clear",title:"Clear FreeBSD 11 LEMP (demo)",os:"FreeBSD",version:11,panel:null,deprecated:!1,softpack:null,osimage:"freebsd_11_clear"},{name:"ubuntu_1810_clean",title:"Ubuntu 18.10 Clean installation (demo)",os:"Ubuntu",version:18.1,panel:null,deprecated:!1,softpack:null,osimage:"ubuntu_1810_clean"},{name:"ubuntu_1804_lemp",title:"Ubuntu 18.04 LTS x64 with LEMP stack (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lemp",panel:null,packages:[{name:"Nginx",version:"1.15.0"},{name:"MySQL",version:8},{name:"PHP-FPM",version:"7.3.0"}]},osimage:"ubuntu_1804_lemp"},{name:"centos_7_clean",title:"CentOS 7 (demo)",os:"CentOS",version:7,panel:null,deprecated:!1,softpack:null,osimage:"centos_7_clean"},{name:"ubuntu_1804_lemp_hipanel",title:"Ubuntu 18.04 LTS x64 with LEMP stack and HiPanel (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lemp",panel:"HiPanel",packages:[{name:"Nginx",version:"1.15.1"},{name:"MySQL",version:"8.0.2"},{name:"PHP-FPM",version:"7.3.2"}]},osimage:"ubuntu_1804_lemp_hipanel"},{name:"freebsd_11_lamp",title:"FreeBSD 11 LEMP stack (demo)",os:"FreeBSD",version:11,panel:null,deprecated:!1,softpack:{name:"lamp",panel:"HiPanel",packages:[{name:"Apache",version:2.2},{name:"MySQL",version:8},{name:"PHP-FPM",version:"7.3.0"}]},osimage:"freebsd_11_lamp"},{name:"windows_10_clean",title:"Windows 10 (demo)",os:"Windows",version:10.1,panel:null,deprecated:!1,softpack:null,osimage:"windows_10_clean"},{name:"centos_6_lamp",title:"CentOS 6 x64 with LAMP stack (demo)",os:"CentOS",version:6,panel:null,deprecated:!0,softpack:{name:"lamp",panel:null,packages:[{name:"Apache",version:"2.0.1"},{name:"MySQL",version:5.5},{name:"PHP-FPM",version:"5.6.0"}]},osimage:"centos_6_lamp"},{name:"ubuntu_1804_lamp_hipanel",title:"Ubuntu 18.04 LTS x64 with LAMP stack and HiPanel (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lamp",panel:"HiPanel",packages:[{name:"Apache",version:"2.2.2"},{name:"MySQL",version:"8.0.1"},{name:"PHP-FPM",version:"7.3.2"}]},osimage:"ubuntu_1804_lamp_hipanel"},{name:"ubuntu_1804_lamp",title:"Ubuntu 18.04 LTS x64 with LAMP stack (demo)",os:"Ubuntu",version:"18.04 LTS",panel:null,deprecated:!1,softpack:{name:"lamp",panel:null,packages:[{name:"Apache",version:2.2},{name:"MySQL",version:8},{name:"PHP-FPM",version:"7.3.1"}]},osimage:"ubuntu_1804_lamp"}]});Object(o.render)(i.a.createElement(s.b,{locale:window.hipanel_order_server.initialStates.language,messages:{en:{"text.header":"Make your server even more powerful","text.paragraph":"Select the technical details and the type of maintenance of your dedicated server. Immediately after placing the order, we will contact you to confirm it and connect your project to the service.",os:"OS",administration:"Administration",softpack:"Soft",select_location:"Select location",no_configurations:"No configurations found",select:" Select",order:"Order"},ru:{"text.header":"Сделайте ваш сервер еще мощнее","text.paragraph":"Выберите технические детали и тип обслуживания выделенного сервера. Сразу после размещения заказа мы свяжемся с вами для подтверждения и подключения вашего проекта к услуге.",nl:"Нидерланды",us:"США",label:"Заметка",administration:"Администрирование",softpack:"Софт",os:"ОС",order:"Заказать",select:"Выбрать",select_location:"Выбирите локацию",no_configurations:"Нет конфигураций",software:"Программное обеспечение",no_softpack:"отсутствует",managed:"Управляемое",unmanaged:"Неуправляемое"}}[window.hipanel_order_server.initialStates.language]},i.a.createElement(W,window.hipanel_order_server)),document.querySelector("#server-order-app"))}},[[15,2,1]]]);
//# sourceMappingURL=app.7b37b64f.js.map